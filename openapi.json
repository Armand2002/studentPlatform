{"openapi":"3.1.0","info":{"title":"Tutoring Platform API","description":"\n    ## API per Piattaforma di Tutoring Online\n    \n    Questa API gestisce tutti gli aspetti della piattaforma di tutoring:\n    \n    ### Funzionalit√† principali:\n    - **Autenticazione**: Login, registrazione, gestione JWT\n    - **Utenti**: Gestione studenti e tutor\n    - **Prenotazioni**: Sistema di booking delle lezioni\n    - **Pagamenti**: Integrazione Stripe e gestione pricing\n    - **Pacchetti**: Pacchetti ore e abbonamenti\n    - **Analytics**: Dashboard e metriche di performance\n    - **Amministrazione**: Panel admin per gestione piattaforma\n    \n    ### Endpoints Dashboard:\n    - `/api/dashboard/live` - Dati real-time\n    - `/api/dashboard/tutor-performance` - Performance tutor\n    - `/api/analytics/metrics` - Metriche generali\n    \n    ### Autenticazione:\n    La maggior parte degli endpoint richiede autenticazione JWT.\n    Usa `/api/auth/login` per ottenere il token.\n    ","termsOfService":"https://example.com/terms/","contact":{"name":"Tutoring Platform Team","url":"https://example.com/contact/","email":"dev@example.com"},"license":{"name":"MIT License","url":"https://opensource.org/licenses/MIT"},"version":"2.0.0"},"paths":{"/api/auth/register":{"post":{"tags":["Authentication"],"summary":"Register User","description":"Register a new user with complete profile (role-based schema validation)","operationId":"register_user_api_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"type":"object","title":"Data"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/login":{"post":{"tags":["Authentication"],"summary":"Login User","description":"Login user and return tokens","operationId":"login_user_api_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginForm"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/refresh":{"post":{"tags":["Authentication"],"summary":"Refresh Token","description":"Refresh access token","operationId":"refresh_token_api_auth_refresh_post","parameters":[{"name":"refresh_token","in":"query","required":true,"schema":{"type":"string","title":"Refresh Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/logout":{"post":{"tags":["Authentication"],"summary":"Logout User","description":"Logout user","operationId":"logout_user_api_auth_logout_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/auth/password-reset-request":{"post":{"tags":["Authentication"],"summary":"Request Password Reset","description":"Request password reset","operationId":"request_password_reset_api_auth_password_reset_request_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordResetRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/password-reset":{"post":{"tags":["Authentication"],"summary":"Reset Password","description":"Reset password with token","operationId":"reset_password_api_auth_password_reset_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordReset"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/me":{"get":{"tags":["Authentication"],"summary":"Get Current User Info","description":"Get current user information","operationId":"get_current_user_info_api_auth_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/users/students":{"post":{"tags":["Users","Students"],"summary":"Create Student","description":"Create a new student","operationId":"create_student_api_users_students_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StudentCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Student"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Users","Students"],"summary":"Get Students","description":"Get all students (Admin only)","operationId":"get_students_api_users_students_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Student"},"title":"Response Get Students Api Users Students Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/students/{student_id}":{"get":{"tags":["Users","Students"],"summary":"Get Student","description":"Get student by ID","operationId":"get_student_api_users_students__student_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"student_id","in":"path","required":true,"schema":{"type":"integer","title":"Student Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StudentWithUser"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Users","Students"],"summary":"Update Student","description":"Update student information","operationId":"update_student_api_users_students__student_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"student_id","in":"path","required":true,"schema":{"type":"integer","title":"Student Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StudentUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Student"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Users","Students"],"summary":"Delete Student","description":"Delete student (Admin only)","operationId":"delete_student_api_users_students__student_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"student_id","in":"path","required":true,"schema":{"type":"integer","title":"Student Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/tutors":{"post":{"tags":["Users","Tutors"],"summary":"Create Tutor","description":"Create a new tutor","operationId":"create_tutor_api_users_tutors_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TutorCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Tutor"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Users","Tutors"],"summary":"Get Tutors","description":"Get all tutors or available tutors only","operationId":"get_tutors_api_users_tutors_get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"available_only","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Available Only"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Tutor"},"title":"Response Get Tutors Api Users Tutors Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/tutors/{tutor_id}":{"get":{"tags":["Users","Tutors"],"summary":"Get Tutor","description":"Get tutor by ID","operationId":"get_tutor_api_users_tutors__tutor_id__get","parameters":[{"name":"tutor_id","in":"path","required":true,"schema":{"type":"integer","title":"Tutor Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TutorWithUser"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Users","Tutors"],"summary":"Update Tutor","description":"Update tutor information","operationId":"update_tutor_api_users_tutors__tutor_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"tutor_id","in":"path","required":true,"schema":{"type":"integer","title":"Tutor Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TutorUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Tutor"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Users","Tutors"],"summary":"Delete Tutor","description":"Delete tutor (Admin only)","operationId":"delete_tutor_api_users_tutors__tutor_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"tutor_id","in":"path","required":true,"schema":{"type":"integer","title":"Tutor Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/me":{"get":{"tags":["Users","Profile"],"summary":"Get Current User Profile","description":"Get current user profile","operationId":"get_current_user_profile_api_users_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/users/me/student":{"get":{"tags":["Users","Profile"],"summary":"Get Current Student Profile","description":"Get current student profile","operationId":"get_current_student_profile_api_users_me_student_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Student"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/users/me/tutor":{"get":{"tags":["Users","Profile"],"summary":"Get Current Tutor Profile","description":"Get current tutor profile","operationId":"get_current_tutor_profile_api_users_me_tutor_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Tutor"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["Users","Profile"],"summary":"Create Current Tutor Profile","description":"Create tutor profile for the current authenticated user if missing.\nAllowed for users with role student or tutor.","operationId":"create_current_tutor_profile_api_users_me_tutor_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TutorSelfCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Tutor"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/users/tutors/me/students":{"get":{"tags":["Users","Tutors"],"summary":"Get My Assigned Students","description":"Get students assigned to the current tutor via bookings","operationId":"get_my_assigned_students_api_users_tutors_me_students_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/StudentWithUser"},"type":"array","title":"Response Get My Assigned Students Api Users Tutors Me Students Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/bookings/":{"post":{"tags":["Bookings","Bookings"],"summary":"Create Booking","description":"Create a new booking (Student only)","operationId":"create_booking_api_bookings__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookingCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Booking"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Bookings","Bookings"],"summary":"Get Bookings","description":"Get bookings with filters","operationId":"get_bookings_api_bookings__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"student_id","in":"query","required":false,"schema":{"type":"integer","title":"Student Id"}},{"name":"tutor_id","in":"query","required":false,"schema":{"type":"integer","title":"Tutor Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Booking"},"title":"Response Get Bookings Api Bookings  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/bookings/upcoming":{"get":{"tags":["Bookings","Bookings"],"summary":"Get Upcoming Bookings","description":"Get upcoming bookings for current user; admins see all upcoming.","operationId":"get_upcoming_bookings_api_bookings_upcoming_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Booking"},"title":"Response Get Upcoming Bookings Api Bookings Upcoming Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/bookings/completed":{"get":{"tags":["Bookings","Bookings"],"summary":"Get Completed Bookings","description":"Get completed bookings for current user; admins see all completed.","operationId":"get_completed_bookings_api_bookings_completed_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Booking"},"title":"Response Get Completed Bookings Api Bookings Completed Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/bookings/{booking_id}":{"get":{"tags":["Bookings","Bookings"],"summary":"Get Booking","description":"Get booking by ID","operationId":"get_booking_api_bookings__booking_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"booking_id","in":"path","required":true,"schema":{"type":"integer","title":"Booking Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookingWithDetails"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Bookings","Bookings"],"summary":"Update Booking","description":"Update booking (Student who created it, Tutor involved, or Admin)","operationId":"update_booking_api_bookings__booking_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"booking_id","in":"path","required":true,"schema":{"type":"integer","title":"Booking Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookingUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Booking"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/bookings/{booking_id}/confirm":{"post":{"tags":["Bookings","Bookings"],"summary":"Confirm Booking","description":"Confirm a booking (Tutor or Admin)","operationId":"confirm_booking_api_bookings__booking_id__confirm_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"booking_id","in":"path","required":true,"schema":{"type":"integer","title":"Booking Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Booking"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/bookings/{booking_id}/complete":{"post":{"tags":["Bookings","Bookings"],"summary":"Complete Booking","description":"Complete a booking (Tutor or Admin)","operationId":"complete_booking_api_bookings__booking_id__complete_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"booking_id","in":"path","required":true,"schema":{"type":"integer","title":"Booking Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Booking"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/bookings/{booking_id}/cancel":{"post":{"tags":["Bookings","Bookings"],"summary":"Cancel Booking","description":"Cancel a booking (Student who created it, Tutor involved, or Admin)","operationId":"cancel_booking_api_bookings__booking_id__cancel_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"booking_id","in":"path","required":true,"schema":{"type":"integer","title":"Booking Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Booking"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/bookings/pricing/preview":{"post":{"tags":["Bookings","Bookings"],"summary":"Preview Booking Pricing","description":"üëÅÔ∏è ANTEPRIMA PRICING BOOKING - Come Excel preview\n\nMostra anteprima prezzo booking senza creare la prenotazione.\nUtile per UI real-time che mostra prezzo mentre utente compila form.","operationId":"preview_booking_pricing_api_bookings_pricing_preview_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"lesson_type","in":"query","required":false,"schema":{"type":"string","default":"doposcuola","title":"Lesson Type"}},{"name":"subject","in":"query","required":false,"schema":{"type":"string","default":"Matematica","title":"Subject"}},{"name":"duration_hours","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"Duration Hours"}},{"name":"tutor_id","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"Tutor Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookingWithPricing"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/pricing/calculate":{"post":{"tags":["Pricing","Pricing"],"summary":"Calculate Lesson Price","description":"üéØ CALCOLA PREZZO LEZIONE - Replica Excel XLOOKUP\n\nCalcola automaticamente prezzo, split tutor/piattaforma, sconti volume.\nEquivalente Excel: =XLOOKUP(TIPOLOGIA+MATERIA, Tariffe[], Prezzi[])","operationId":"calculate_lesson_price_api_pricing_calculate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PricingCalculationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PricingCalculationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/pricing/preview":{"post":{"tags":["Pricing","Pricing"],"summary":"Preview Lesson Price","description":"üëÅÔ∏è ANTEPRIMA PREZZO - Senza log, per UI real-time\n\nMostra anteprima calcolo senza salvare nel database.\nUtile per form dinamici che mostrano prezzo mentre l'utente digita.","operationId":"preview_lesson_price_api_pricing_preview_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PricingPreviewRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PricingCalculationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/pricing/rules":{"get":{"tags":["Pricing","Pricing"],"summary":"List Pricing Rules","description":"üìã LISTA REGOLE PRICING - Come Excel tabella tariffe\n\nMostra tutte le regole tariffarie con filtri.\nEquivalente a visualizzare tabella \"Tariffe DOPOSCUOLA\" in Excel.","operationId":"list_pricing_rules_api_pricing_rules_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"lesson_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by lesson type","title":"Lesson Type"},"description":"Filter by lesson type"},{"name":"subject","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by subject","title":"Subject"},"description":"Filter by subject"},{"name":"active_only","in":"query","required":false,"schema":{"type":"boolean","description":"Show only active rules","default":true,"title":"Active Only"},"description":"Show only active rules"},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Pagination offset","default":0,"title":"Skip"},"description":"Pagination offset"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"description":"Pagination limit","default":100,"title":"Limit"},"description":"Pagination limit"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PricingRuleListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Pricing","Pricing"],"summary":"Create Pricing Rule","description":"‚ûï CREA REGOLA PRICING - Aggiungi nuova tariffa\n\nCrea nuova regola tariffaria.\nEquivalente ad aggiungere riga nella tabella Excel \"Tariffe DOPOSCUOLA\".","operationId":"create_pricing_rule_api_pricing_rules_post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PricingRuleCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PricingRule"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/pricing/rules/{rule_id}":{"get":{"tags":["Pricing","Pricing"],"summary":"Get Pricing Rule","description":"üîç DETTAGLI REGOLA PRICING - Visualizza singola tariffa","operationId":"get_pricing_rule_api_pricing_rules__rule_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"rule_id","in":"path","required":true,"schema":{"type":"integer","title":"Rule Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PricingRule"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Pricing","Pricing"],"summary":"Update Pricing Rule","description":"‚úèÔ∏è AGGIORNA REGOLA PRICING - Modifica tariffa esistente","operationId":"update_pricing_rule_api_pricing_rules__rule_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"rule_id","in":"path","required":true,"schema":{"type":"integer","title":"Rule Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PricingRuleUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PricingRule"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Pricing","Pricing"],"summary":"Delete Pricing Rule","description":"üóëÔ∏è ELIMINA REGOLA PRICING - Rimuovi tariffa","operationId":"delete_pricing_rule_api_pricing_rules__rule_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"rule_id","in":"path","required":true,"schema":{"type":"integer","title":"Rule Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/pricing/tutors/{tutor_id}/overrides":{"get":{"tags":["Pricing","Pricing"],"summary":"List Tutor Overrides","description":"üìã LISTA OVERRIDE TUTOR - Prezzi personalizzati per tutor\n\nMostra tutte le personalizzazioni pricing per un tutor specifico.","operationId":"list_tutor_overrides_api_pricing_tutors__tutor_id__overrides_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"tutor_id","in":"path","required":true,"schema":{"type":"integer","title":"Tutor Id"}},{"name":"active_only","in":"query","required":false,"schema":{"type":"boolean","description":"Show only active overrides","default":true,"title":"Active Only"},"description":"Show only active overrides"},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TutorPricingOverrideListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Pricing","Pricing"],"summary":"Create Tutor Override","description":"‚ûï CREA OVERRIDE TUTOR - Prezzo personalizzato per tutor\n\nCrea pricing personalizzato per tutor specifico.\nEsempio: Mario Rossi per Matematica DOPOSCUOLA = ‚Ç¨30/h invece di ‚Ç¨25/h","operationId":"create_tutor_override_api_pricing_tutors__tutor_id__overrides_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"tutor_id","in":"path","required":true,"schema":{"type":"integer","title":"Tutor Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TutorPricingOverrideCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TutorPricingOverride"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/pricing/rules/bulk":{"post":{"tags":["Pricing","Pricing"],"summary":"Create Bulk Pricing Rules","description":"üì¶ CREAZIONE BULK REGOLE - Import massivo tariffe\n\nCrea multiple regole pricing in una volta.\nUtile per importare tariffario completo da Excel.","operationId":"create_bulk_pricing_rules_api_pricing_rules_bulk_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkPricingRuleCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkPricingRuleResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/pricing/subjects":{"get":{"tags":["Pricing","Pricing"],"summary":"List Subjects","description":"üìö LISTA MATERIE - Tutte le materie disponibili\n\nRitorna lista unica di tutte le materie configurate nelle regole pricing.","operationId":"list_subjects_api_pricing_subjects_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/pricing/lesson-types":{"get":{"tags":["Pricing","Pricing"],"summary":"List Lesson Types","description":"üéØ LISTA TIPOLOGIE LEZIONE - Enum disponibili\n\nRitorna tutte le tipologie di lezione supportate.","operationId":"list_lesson_types_api_pricing_lesson_types_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/payments/":{"get":{"tags":["Payments","Payments"],"summary":"List Payments","operationId":"list_payments_api_payments__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Payment"},"title":"Response List Payments Api Payments  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Payments","Payments"],"summary":"Create Payment","operationId":"create_payment_api_payments__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"amount_cents","in":"query","required":true,"schema":{"type":"integer","title":"Amount Cents"}},{"name":"currency","in":"query","required":false,"schema":{"type":"string","default":"EUR","title":"Currency"}},{"name":"provider","in":"query","required":false,"schema":{"type":"string","title":"Provider"}},{"name":"description","in":"query","required":false,"schema":{"type":"string","title":"Description"}},{"name":"external_id","in":"query","required":false,"schema":{"type":"string","title":"External Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Payment"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/payments/{payment_id}":{"put":{"tags":["Payments","Payments"],"summary":"Update Payment Status","operationId":"update_payment_status_api_payments__payment_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"payment_id","in":"path","required":true,"schema":{"type":"integer","title":"Payment Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Payment"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/packages/":{"post":{"tags":["Packages","Packages"],"summary":"Create Package","description":"Create a new package (Tutor only)","operationId":"create_package_api_packages__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PackageCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Package"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Packages","Packages"],"summary":"Get Packages","description":"Get all active packages with optional filters","operationId":"get_packages_api_packages__get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"subject","in":"query","required":false,"schema":{"type":"string","title":"Subject"}},{"name":"tutor_id","in":"query","required":false,"schema":{"type":"integer","title":"Tutor Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Package"},"title":"Response Get Packages Api Packages  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/packages/purchases":{"post":{"tags":["Packages","Package Purchases"],"summary":"Create Package Purchase","description":"Purchase a package (Student only)","operationId":"create_package_purchase_api_packages_purchases_post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PackagePurchaseCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PackagePurchase"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Packages","Package Purchases"],"summary":"Get Package Purchases","description":"Get package purchases","operationId":"get_package_purchases_api_packages_purchases_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"student_id","in":"query","required":false,"schema":{"type":"integer","title":"Student Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PackagePurchase"},"title":"Response Get Package Purchases Api Packages Purchases Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/packages/purchases/active":{"get":{"tags":["Packages","Package Purchases"],"summary":"Get Active Purchases","description":"Get active package purchases for current student","operationId":"get_active_purchases_api_packages_purchases_active_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/PackagePurchase"},"type":"array","title":"Response Get Active Purchases Api Packages Purchases Active Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/packages/purchases/{purchase_id}":{"get":{"tags":["Packages","Package Purchases"],"summary":"Get Package Purchase","description":"Get specific package purchase","operationId":"get_package_purchase_api_packages_purchases__purchase_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"purchase_id","in":"path","required":true,"schema":{"type":"integer","title":"Purchase Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PackagePurchaseWithDetails"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/packages/{package_id}":{"get":{"tags":["Packages","Packages"],"summary":"Get Package","description":"Get package by ID","operationId":"get_package_api_packages__package_id__get","parameters":[{"name":"package_id","in":"path","required":true,"schema":{"type":"integer","title":"Package Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Package"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Packages","Packages"],"summary":"Update Package","description":"Update package (Tutor who created it or Admin)","operationId":"update_package_api_packages__package_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"package_id","in":"path","required":true,"schema":{"type":"integer","title":"Package Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PackageUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Package"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Packages","Packages"],"summary":"Delete Package","description":"Delete package (Tutor who created it or Admin)","operationId":"delete_package_api_packages__package_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"package_id","in":"path","required":true,"schema":{"type":"integer","title":"Package Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/packages/{package_id}/links":{"post":{"tags":["Packages","Packages"],"summary":"Add Package Link","description":"Add a resource link to a package (Tutor owner or Admin)","operationId":"add_package_link_api_packages__package_id__links_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"package_id","in":"path","required":true,"schema":{"type":"integer","title":"Package Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PackageResourceLinkBase"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PackageResourceLink"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Packages","Packages"],"summary":"List Package Links","description":"List resource links for a package. Public links for everyone; private only for owner/admin.","operationId":"list_package_links_api_packages__package_id__links_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"package_id","in":"path","required":true,"schema":{"type":"integer","title":"Package Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PackageResourceLink"},"title":"Response List Package Links Api Packages  Package Id  Links Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/packages/links/{link_id}":{"delete":{"tags":["Packages","Packages"],"summary":"Delete Package Link","description":"Delete a resource link (Tutor owner or Admin)","operationId":"delete_package_link_api_packages_links__link_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"link_id","in":"path","required":true,"schema":{"type":"integer","title":"Link Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/slots/":{"post":{"tags":["Slots","Slots"],"summary":"Create Slot","description":"Create a new slot (Tutor only)","operationId":"create_slot_api_slots__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SlotCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Slot"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Slots","Slots"],"summary":"Get Slots","description":"Get slots with filters","operationId":"get_slots_api_slots__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"tutor_id","in":"query","required":false,"schema":{"type":"integer","title":"Tutor Id"}},{"name":"slot_date","in":"query","required":false,"schema":{"type":"string","format":"date","title":"Slot Date"}},{"name":"available_only","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Available Only"}},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Slot"},"title":"Response Get Slots Api Slots  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/slots/multiple":{"post":{"tags":["Slots","Slots"],"summary":"Create Multiple Slots","description":"Create multiple slots for a date range (Tutor only)","operationId":"create_multiple_slots_api_slots_multiple_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MultipleSlotsCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/Slot"},"type":"array","title":"Response Create Multiple Slots Api Slots Multiple Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/slots/available":{"get":{"tags":["Slots","Slots"],"summary":"Get Available Slots","description":"Get available slots for a tutor (public endpoint)","operationId":"get_available_slots_api_slots_available_get","parameters":[{"name":"tutor_id","in":"query","required":true,"schema":{"type":"integer","title":"Tutor Id"}},{"name":"slot_date","in":"query","required":false,"schema":{"type":"string","format":"date","title":"Slot Date"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Slot"},"title":"Response Get Available Slots Api Slots Available Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/slots/{slot_id}":{"get":{"tags":["Slots","Slots"],"summary":"Get Slot","description":"Get slot by ID","operationId":"get_slot_api_slots__slot_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"slot_id","in":"path","required":true,"schema":{"type":"integer","title":"Slot Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Slot"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Slots","Slots"],"summary":"Update Slot","description":"Update slot (Tutor who created it or Admin)","operationId":"update_slot_api_slots__slot_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"slot_id","in":"path","required":true,"schema":{"type":"integer","title":"Slot Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SlotUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Slot"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Slots","Slots"],"summary":"Delete Slot","description":"Delete slot (Tutor who created it or Admin)","operationId":"delete_slot_api_slots__slot_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"slot_id","in":"path","required":true,"schema":{"type":"integer","title":"Slot Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/slots/tutor/{tutor_id}/date/{slot_date}":{"delete":{"tags":["Slots","Slots"],"summary":"Delete Tutor Slots By Date","description":"Delete all slots for a tutor on a specific date (Tutor or Admin)","operationId":"delete_tutor_slots_by_date_api_slots_tutor__tutor_id__date__slot_date__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"tutor_id","in":"path","required":true,"schema":{"type":"integer","title":"Tutor Id"}},{"name":"slot_date","in":"path","required":true,"schema":{"type":"string","format":"date","title":"Slot Date"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/analytics/metrics":{"get":{"tags":["Analytics"],"summary":"Get Metrics","operationId":"get_metrics_api_analytics_metrics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/analytics/trends":{"get":{"tags":["Analytics"],"summary":"Get Trends","operationId":"get_trends_api_analytics_trends_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"days","in":"query","required":false,"schema":{"type":"integer","default":14,"title":"Days"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/dashboard/test":{"get":{"tags":["Dashboard","üìä Dashboard Real-Time"],"summary":"Test Dashboard","description":"Test endpoint per verificare che il router dashboard funzioni","operationId":"test_dashboard_api_dashboard_test_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Endpoint not found"},"403":{"description":"Access denied - Admin or Tutor role required"},"401":{"description":"Authentication required"}}}},"/api/dashboard/live":{"get":{"tags":["Dashboard","üìä Dashboard Real-Time","üìä Dashboard Live"],"summary":"üìä Dashboard Live Completo","description":"**Dashboard principale con tutti i widget live**\n    \n    Fornisce tutti i dati necessari per la dashboard real-time:\n    - Lezioni di oggi (completate, in corso, prossime, cancellate)\n    - Revenue giornaliero e guadagni tutor\n    - Tutors e studenti attivi oggi\n    - KPI operazionali e tassi di conversione\n    \n    ‚ö° **Real-time**: Aggiorna automaticamente ogni 30 secondi\n    üìÖ **Filtro**: Solo dati della giornata corrente (TODAY())\n    üîí **Accesso**: Richiede ruolo Admin o Tutor","operationId":"get_live_dashboard_api_dashboard_live_get","responses":{"200":{"description":"Dati dashboard completi per la giornata corrente","content":{"application/json":{"schema":{}}}},"404":{"description":"Endpoint not found"},"403":{"description":"Access denied - Admin or Tutor role required"},"401":{"description":"Authentication required"}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/dashboard/today":{"get":{"tags":["Dashboard","üìä Dashboard Real-Time"],"summary":"Get Today Summary","description":"üìÖ SUMMARY OGGI - Replica Excel FILTER(TODAY())\n\nWidget specifico per situazione giornata corrente.\nPerfetto per homepage o widget mobile.","operationId":"get_today_summary_api_dashboard_today_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Endpoint not found"},"403":{"description":"Access denied - Admin or Tutor role required"},"401":{"description":"Authentication required"}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/dashboard/expiring-packages":{"get":{"tags":["Dashboard","üìä Dashboard Real-Time"],"summary":"Get Expiring Packages","description":"‚è∞ PACCHETTI IN SCADENZA - Replica Excel EDATE logic\n\nLista pacchetti che scadono nei prossimi N giorni.\nUtile per planning rinnovi e retention.","operationId":"get_expiring_packages_api_dashboard_expiring_packages_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"days_ahead","in":"query","required":false,"schema":{"type":"integer","maximum":30,"minimum":1,"description":"Days ahead to check for expiring packages","default":7,"title":"Days Ahead"},"description":"Days ahead to check for expiring packages"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Endpoint not found"},"403":{"description":"Access denied - Admin or Tutor role required"},"401":{"description":"Authentication required"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/dashboard/tutor-performance":{"get":{"tags":["Dashboard","üìä Dashboard Real-Time"],"summary":"Get Tutor Performance Today","description":"üë®‚Äçüè´ PERFORMANCE TUTOR - Replica Excel COUNTIFS per tutor\n\nAnalisi performance tutors per giornata corrente.\nPu√≤ filtrare per tutor specifico.","operationId":"get_tutor_performance_today_api_dashboard_tutor_performance_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"tutor_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by specific tutor ID","title":"Tutor Id"},"description":"Filter by specific tutor ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Endpoint not found"},"403":{"description":"Access denied - Admin or Tutor role required"},"401":{"description":"Authentication required"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/dashboard/trends":{"get":{"tags":["Dashboard","üìä Dashboard Real-Time"],"summary":"Get Weekly Trends","description":"üìà TREND SETTIMANALI - Replica Excel grafici temporali\n\nAnalisi trend performance nelle ultime N settimane.\nDati perfetti per grafici line chart.","operationId":"get_weekly_trends_api_dashboard_trends_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"weeks_back","in":"query","required":false,"schema":{"type":"integer","maximum":12,"minimum":2,"description":"Number of weeks to analyze","default":4,"title":"Weeks Back"},"description":"Number of weeks to analyze"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Endpoint not found"},"403":{"description":"Access denied - Admin or Tutor role required"},"401":{"description":"Authentication required"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/dashboard/subjects":{"get":{"tags":["Dashboard","üìä Dashboard Real-Time"],"summary":"Get Subject Analytics","description":"üìö ANALYTICS MATERIE - Replica Excel COUNTIFS per subject\n\nAnalisi performance per materia insegnata.\nUtile per decidere focus business e pricing.","operationId":"get_subject_analytics_api_dashboard_subjects_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Endpoint not found"},"403":{"description":"Access denied - Admin or Tutor role required"},"401":{"description":"Authentication required"}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/dashboard/alerts":{"get":{"tags":["Dashboard","üìä Dashboard Real-Time"],"summary":"Get Real Time Alerts","description":"üö® ALERT REAL-TIME - Sistema notifiche intelligenti\n\nAlert automatici basati su condizioni business.\nAggiorna ogni minuto per monitoring continuo.","operationId":"get_real_time_alerts_api_dashboard_alerts_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"alert_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by alert type: urgent, warning, info","title":"Alert Type"},"description":"Filter by alert type: urgent, warning, info"},{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by category: packages, revenue, tutors, operations","title":"Category"},"description":"Filter by category: packages, revenue, tutors, operations"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Endpoint not found"},"403":{"description":"Access denied - Admin or Tutor role required"},"401":{"description":"Authentication required"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/dashboard/booking-insights":{"get":{"tags":["Dashboard","üìä Dashboard Real-Time"],"summary":"Get Booking Insights","description":"üìä BOOKING INSIGHTS AVANZATI\n\nAnalytics approfonditi sui booking con filtri flessibili.\nEquivalente Excel: Tabella pivot complessa con filtri multipli.","operationId":"get_booking_insights_api_dashboard_booking_insights_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"date_from","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Filter from date (YYYY-MM-DD)","title":"Date From"},"description":"Filter from date (YYYY-MM-DD)"},{"name":"date_to","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Filter to date (YYYY-MM-DD)","title":"Date To"},"description":"Filter to date (YYYY-MM-DD)"},{"name":"tutor_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by tutor","title":"Tutor Id"},"description":"Filter by tutor"},{"name":"student_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by student","title":"Student Id"},"description":"Filter by student"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Endpoint not found"},"403":{"description":"Access denied - Admin or Tutor role required"},"401":{"description":"Authentication required"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/dashboard/health":{"get":{"tags":["Dashboard","üìä Dashboard Real-Time"],"summary":"Dashboard Health Check","description":"‚ù§Ô∏è HEALTH CHECK DASHBOARD\n\nVerifica stato servizi dashboard per monitoring.","operationId":"dashboard_health_check_api_dashboard_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Endpoint not found"},"403":{"description":"Access denied - Admin or Tutor role required"},"401":{"description":"Authentication required"}}}},"/api/dashboard/refresh":{"post":{"tags":["Dashboard","üìä Dashboard Real-Time"],"summary":"Refresh Dashboard Cache","description":"üîÑ REFRESH CACHE DASHBOARD\n\nForce refresh dei dati dashboard se necessario.\nUtile per debug o dopo modifiche massive dati.","operationId":"refresh_dashboard_cache_api_dashboard_refresh_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Endpoint not found"},"403":{"description":"Access denied - Admin or Tutor role required"},"401":{"description":"Authentication required"}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/dashboard/export/today":{"get":{"tags":["Dashboard","üìä Dashboard Real-Time"],"summary":"Export Today Data","description":"üì§ EXPORT DATI OGGI\n\nEsporta dati dashboard per reporting esterno.\nSupporta JSON e CSV per integrazione Excel/Google Sheets.","operationId":"export_today_data_api_dashboard_export_today_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"format","in":"query","required":false,"schema":{"type":"string","pattern":"^(json|csv)$","description":"Export format","default":"json","title":"Format"},"description":"Export format"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Endpoint not found"},"403":{"description":"Access denied - Admin or Tutor role required"},"401":{"description":"Authentication required"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/contact/":{"post":{"tags":["Contact","Contact"],"summary":"Submit Contact Form","description":"Submit contact form","operationId":"submit_contact_form_api_contact__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContactRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContactResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/contact/health":{"get":{"tags":["Contact","Contact"],"summary":"Contact Health","description":"Health check for contact service","operationId":"contact_health_api_contact_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/notifications/connections":{"get":{"tags":["Notifications","Notifications"],"summary":"Get Connection Stats","description":"Get WebSocket connection statistics (admin only)","operationId":"get_connection_stats_api_notifications_connections_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/notifications/send":{"post":{"tags":["Notifications","Notifications"],"summary":"Send Notification","description":"Send notification (admin only)","operationId":"send_notification_api_notifications_send_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"target_user_id","in":"query","required":false,"schema":{"type":"integer","title":"Target User Id"}},{"name":"target_role","in":"query","required":false,"schema":{"type":"string","title":"Target Role"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/notifications/test":{"post":{"tags":["Notifications","Notifications"],"summary":"Test Notification","description":"Send test notification to current user","operationId":"test_notification_api_notifications_test_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/admin/package-assignments":{"get":{"tags":["Admin"],"summary":"List Package Assignments","operationId":"list_package_assignments_api_admin_package_assignments_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["Admin"],"summary":"Create Package Assignment","operationId":"create_package_assignment_api_admin_package_assignments_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminPackageAssignmentCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminPackageAssignment"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/admin/payments":{"get":{"tags":["Admin"],"summary":"List Payments","operationId":"list_payments_api_admin_payments_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["Admin"],"summary":"Record Payment","operationId":"record_payment_api_admin_payments_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminPaymentCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminPayment"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/admin/payments/{payment_id}/confirm":{"put":{"tags":["Admin"],"summary":"Confirm Payment","operationId":"confirm_payment_api_admin_payments__payment_id__confirm_put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"payment_id","in":"path","required":true,"schema":{"type":"integer","title":"Payment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/users":{"get":{"tags":["Admin"],"summary":"List Users","description":"Get all users for admin dashboard","operationId":"list_users_api_admin_users_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/admin/users/{user_id}/approve":{"put":{"tags":["Admin"],"summary":"Approve User","description":"Approve a user (mainly for tutors)","operationId":"approve_user_api_admin_users__user_id__approve_put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/users/{user_id}/reject":{"put":{"tags":["Admin"],"summary":"Reject User","description":"Reject a user application","operationId":"reject_user_api_admin_users__user_id__reject_put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"reason","in":"query","required":false,"schema":{"type":"string","default":"Non specificato","title":"Reason"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/pending-approvals":{"get":{"tags":["Admin"],"summary":"Get Pending Approvals","description":"Get all users pending approval (mainly tutors)","operationId":"get_pending_approvals_api_admin_pending_approvals_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/admin/reports/overview":{"get":{"tags":["Admin"],"summary":"Get Reports Overview","description":"Get comprehensive report data","operationId":"get_reports_overview_api_admin_reports_overview_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"days","in":"query","required":false,"schema":{"type":"integer","default":30,"title":"Days"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/settings":{"get":{"tags":["Admin"],"summary":"Get System Settings","description":"Get system settings","operationId":"get_system_settings_api_admin_settings_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"put":{"tags":["Admin"],"summary":"Update System Settings","description":"Update system settings","operationId":"update_system_settings_api_admin_settings_put","requestBody":{"content":{"application/json":{"schema":{"type":"object","title":"Settings"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health Check","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AdminPackageAssignment":{"properties":{"student_id":{"type":"integer","exclusiveMinimum":0.0,"title":"Student Id"},"tutor_id":{"type":"integer","exclusiveMinimum":0.0,"title":"Tutor Id"},"package_id":{"type":"integer","exclusiveMinimum":0.0,"title":"Package Id"},"custom_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Name"},"custom_total_hours":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Custom Total Hours"},"custom_price":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Price"},"custom_expiry_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Custom Expiry Date"},"admin_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Admin Notes"},"student_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Student Notes"},"auto_activate_on_payment":{"type":"boolean","title":"Auto Activate On Payment","default":true},"id":{"type":"integer","title":"Id"},"assignment_date":{"type":"string","format":"date-time","title":"Assignment Date"},"status":{"$ref":"#/components/schemas/PackageAssignmentStatusEnum"},"hours_used":{"type":"integer","title":"Hours Used"},"hours_remaining":{"type":"integer","title":"Hours Remaining"},"assigned_by_admin_id":{"type":"integer","title":"Assigned By Admin Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["student_id","tutor_id","package_id","id","assignment_date","status","hours_used","hours_remaining","assigned_by_admin_id","created_at","updated_at"],"title":"AdminPackageAssignment"},"AdminPackageAssignmentCreate":{"properties":{"student_id":{"type":"integer","exclusiveMinimum":0.0,"title":"Student Id"},"tutor_id":{"type":"integer","exclusiveMinimum":0.0,"title":"Tutor Id"},"package_id":{"type":"integer","exclusiveMinimum":0.0,"title":"Package Id"},"custom_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Name"},"custom_total_hours":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Custom Total Hours"},"custom_price":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Custom Price"},"custom_expiry_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Custom Expiry Date"},"admin_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Admin Notes"},"student_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Student Notes"},"auto_activate_on_payment":{"type":"boolean","title":"Auto Activate On Payment","default":true}},"type":"object","required":["student_id","tutor_id","package_id"],"title":"AdminPackageAssignmentCreate"},"AdminPayment":{"properties":{"package_assignment_id":{"type":"integer","exclusiveMinimum":0.0,"title":"Package Assignment Id"},"student_id":{"type":"integer","exclusiveMinimum":0.0,"title":"Student Id"},"amount":{"type":"string","title":"Amount"},"payment_method":{"$ref":"#/components/schemas/PaymentMethodEnum"},"payment_date":{"type":"string","format":"date","title":"Payment Date"},"reference_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reference Number"},"bank_details":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bank Details"},"admin_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Admin Notes"},"id":{"type":"integer","title":"Id"},"status":{"$ref":"#/components/schemas/PaymentStatusEnum"},"processed_by_admin_id":{"type":"integer","title":"Processed By Admin Id"},"confirmed_by_admin_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Confirmed By Admin Id"},"confirmation_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Confirmation Date"},"receipt_sent":{"type":"boolean","title":"Receipt Sent"},"receipt_sent_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Receipt Sent At"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["package_assignment_id","student_id","amount","payment_method","payment_date","id","status","processed_by_admin_id","confirmed_by_admin_id","confirmation_date","receipt_sent","receipt_sent_at","created_at","updated_at"],"title":"AdminPayment"},"AdminPaymentCreate":{"properties":{"package_assignment_id":{"type":"integer","exclusiveMinimum":0.0,"title":"Package Assignment Id"},"student_id":{"type":"integer","exclusiveMinimum":0.0,"title":"Student Id"},"amount":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"}],"title":"Amount"},"payment_method":{"$ref":"#/components/schemas/PaymentMethodEnum"},"payment_date":{"type":"string","format":"date","title":"Payment Date"},"reference_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reference Number"},"bank_details":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bank Details"},"admin_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Admin Notes"}},"type":"object","required":["package_assignment_id","student_id","amount","payment_method","payment_date"],"title":"AdminPaymentCreate"},"Booking":{"properties":{"start_time":{"type":"string","format":"date-time","title":"Start Time"},"end_time":{"type":"string","format":"date-time","title":"End Time"},"duration_hours":{"type":"integer","title":"Duration Hours"},"subject":{"type":"string","title":"Subject"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"id":{"type":"integer","title":"Id"},"student_id":{"type":"integer","title":"Student Id"},"tutor_id":{"type":"integer","title":"Tutor Id"},"package_purchase_id":{"type":"integer","title":"Package Purchase Id"},"status":{"$ref":"#/components/schemas/BookingStatus"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"calculated_duration":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Calculated Duration","description":"Durata calcolata automaticamente"},"calculated_price":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Calculated Price","description":"Prezzo calcolato automaticamente ‚Ç¨"},"tutor_earnings":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Tutor Earnings","description":"Guadagno tutor ‚Ç¨"},"platform_fee":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Platform Fee","description":"Fee piattaforma ‚Ç¨"},"pricing_rule_applied":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pricing Rule Applied","description":"Regola pricing applicata"}},"type":"object","required":["start_time","end_time","duration_hours","subject","id","student_id","tutor_id","package_purchase_id","status","created_at","updated_at"],"title":"Booking"},"BookingCreate":{"properties":{"start_time":{"type":"string","format":"date-time","title":"Start Time"},"end_time":{"type":"string","format":"date-time","title":"End Time"},"duration_hours":{"type":"integer","title":"Duration Hours"},"subject":{"type":"string","title":"Subject"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"student_id":{"type":"integer","title":"Student Id"},"tutor_id":{"type":"integer","title":"Tutor Id"},"package_purchase_id":{"type":"integer","title":"Package Purchase Id"}},"type":"object","required":["start_time","end_time","duration_hours","subject","student_id","tutor_id","package_purchase_id"],"title":"BookingCreate"},"BookingStatus":{"type":"string","enum":["pending","confirmed","completed","cancelled"],"title":"BookingStatus"},"BookingUpdate":{"properties":{"start_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start Time"},"end_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"End Time"},"duration_hours":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Duration Hours"},"subject":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subject"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"status":{"anyOf":[{"$ref":"#/components/schemas/BookingStatus"},{"type":"null"}]}},"type":"object","title":"BookingUpdate"},"BookingWithDetails":{"properties":{"start_time":{"type":"string","format":"date-time","title":"Start Time"},"end_time":{"type":"string","format":"date-time","title":"End Time"},"duration_hours":{"type":"integer","title":"Duration Hours"},"subject":{"type":"string","title":"Subject"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"id":{"type":"integer","title":"Id"},"student_id":{"type":"integer","title":"Student Id"},"tutor_id":{"type":"integer","title":"Tutor Id"},"package_purchase_id":{"type":"integer","title":"Package Purchase Id"},"status":{"$ref":"#/components/schemas/BookingStatus"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"calculated_duration":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Calculated Duration","description":"Durata calcolata automaticamente"},"calculated_price":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Calculated Price","description":"Prezzo calcolato automaticamente ‚Ç¨"},"tutor_earnings":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Tutor Earnings","description":"Guadagno tutor ‚Ç¨"},"platform_fee":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Platform Fee","description":"Fee piattaforma ‚Ç¨"},"pricing_rule_applied":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pricing Rule Applied","description":"Regola pricing applicata"},"student_name":{"type":"string","title":"Student Name"},"tutor_name":{"type":"string","title":"Tutor Name"},"package_name":{"type":"string","title":"Package Name"}},"type":"object","required":["start_time","end_time","duration_hours","subject","id","student_id","tutor_id","package_purchase_id","status","created_at","updated_at","student_name","tutor_name","package_name"],"title":"BookingWithDetails"},"BookingWithPricing":{"properties":{"start_time":{"type":"string","format":"date-time","title":"Start Time"},"end_time":{"type":"string","format":"date-time","title":"End Time"},"duration_hours":{"type":"integer","title":"Duration Hours"},"subject":{"type":"string","title":"Subject"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"id":{"type":"integer","title":"Id"},"student_id":{"type":"integer","title":"Student Id"},"tutor_id":{"type":"integer","title":"Tutor Id"},"package_purchase_id":{"type":"integer","title":"Package Purchase Id"},"status":{"$ref":"#/components/schemas/BookingStatus"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"calculated_duration":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Calculated Duration","description":"Durata calcolata automaticamente"},"calculated_price":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Calculated Price","description":"Prezzo calcolato automaticamente ‚Ç¨"},"tutor_earnings":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Tutor Earnings","description":"Guadagno tutor ‚Ç¨"},"platform_fee":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Platform Fee","description":"Fee piattaforma ‚Ç¨"},"pricing_rule_applied":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pricing Rule Applied","description":"Regola pricing applicata"},"pricing_breakdown":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Pricing Breakdown","description":"Dettagli calcolo pricing"}},"type":"object","required":["start_time","end_time","duration_hours","subject","id","student_id","tutor_id","package_purchase_id","status","created_at","updated_at"],"title":"BookingWithPricing","description":"Booking con dettagli pricing completi"},"BulkPricingRuleCreate":{"properties":{"rules":{"items":{"$ref":"#/components/schemas/PricingRuleCreate"},"type":"array","maxItems":50,"minItems":1,"title":"Rules","description":"Lista regole da creare"}},"type":"object","required":["rules"],"title":"BulkPricingRuleCreate","description":"Schema per creazione bulk regole pricing"},"BulkPricingRuleResponse":{"properties":{"created_count":{"type":"integer","title":"Created Count","description":"Numero regole create"},"created_ids":{"items":{"type":"integer"},"type":"array","title":"Created Ids","description":"ID regole create"},"errors":{"items":{"type":"string"},"type":"array","title":"Errors","description":"Errori eventuali"}},"type":"object","required":["created_count","created_ids"],"title":"BulkPricingRuleResponse","description":"Schema response creazione bulk"},"ContactRequest":{"properties":{"name":{"type":"string","title":"Name"},"email":{"type":"string","format":"email","title":"Email"},"subject":{"type":"string","title":"Subject"},"message":{"type":"string","title":"Message"},"timestamp":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Timestamp"}},"type":"object","required":["name","email","subject","message"],"title":"ContactRequest"},"ContactResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"},"reference_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reference Id"}},"type":"object","required":["success","message"],"title":"ContactResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LessonType":{"type":"string","enum":["doposcuola","individuale","gruppo","online"],"title":"LessonType"},"LoginForm":{"properties":{"username":{"type":"string","format":"email","title":"Username"},"password":{"type":"string","title":"Password"}},"type":"object","required":["username","password"],"title":"LoginForm","description":"Login form schema - matches OAuth2PasswordRequestForm"},"MultipleSlotsCreate":{"properties":{"tutor_id":{"type":"integer","title":"Tutor Id"},"start_date":{"type":"string","format":"date","title":"Start Date"},"end_date":{"type":"string","format":"date","title":"End Date"},"start_time":{"type":"string","format":"time","title":"Start Time"},"end_time":{"type":"string","format":"time","title":"End Time"},"days_of_week":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Days Of Week"}},"type":"object","required":["tutor_id","start_date","end_date","start_time","end_time"],"title":"MultipleSlotsCreate"},"NotificationAction":{"properties":{"label":{"type":"string","title":"Label"},"href":{"type":"string","title":"Href"}},"type":"object","required":["label","href"],"title":"NotificationAction","description":"Notification action"},"NotificationCreate":{"properties":{"type":{"type":"string","enum":["info","success","warning","error"],"title":"Type","default":"info"},"title":{"type":"string","title":"Title"},"message":{"type":"string","title":"Message"},"action":{"anyOf":[{"$ref":"#/components/schemas/NotificationAction"},{"type":"null"}]}},"type":"object","required":["title","message"],"title":"NotificationCreate","description":"Create notification"},"Package":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"total_hours":{"type":"integer","title":"Total Hours"},"price":{"type":"string","title":"Price"},"subject":{"type":"string","title":"Subject"},"is_active":{"type":"boolean","title":"Is Active","default":true},"id":{"type":"integer","title":"Id"},"tutor_id":{"type":"integer","title":"Tutor Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["name","total_hours","price","subject","id","tutor_id","created_at","updated_at"],"title":"Package"},"PackageAssignmentStatusEnum":{"type":"string","enum":["draft","assigned","active","suspended","completed","cancelled"],"title":"PackageAssignmentStatusEnum"},"PackageCreate":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"total_hours":{"type":"integer","title":"Total Hours"},"price":{"anyOf":[{"type":"number"},{"type":"string"}],"title":"Price"},"subject":{"type":"string","title":"Subject"},"is_active":{"type":"boolean","title":"Is Active","default":true},"tutor_id":{"type":"integer","title":"Tutor Id"}},"type":"object","required":["name","total_hours","price","subject","tutor_id"],"title":"PackageCreate"},"PackagePurchase":{"properties":{"expiry_date":{"type":"string","format":"date","title":"Expiry Date"},"hours_remaining":{"type":"integer","title":"Hours Remaining"},"is_active":{"type":"boolean","title":"Is Active","default":true},"id":{"type":"integer","title":"Id"},"student_id":{"type":"integer","title":"Student Id"},"package_id":{"type":"integer","title":"Package Id"},"purchase_date":{"type":"string","format":"date-time","title":"Purchase Date"},"hours_used":{"type":"integer","title":"Hours Used"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["expiry_date","hours_remaining","id","student_id","package_id","purchase_date","hours_used","created_at","updated_at"],"title":"PackagePurchase"},"PackagePurchaseCreate":{"properties":{"expiry_date":{"type":"string","format":"date","title":"Expiry Date"},"hours_remaining":{"type":"integer","title":"Hours Remaining"},"is_active":{"type":"boolean","title":"Is Active","default":true},"student_id":{"type":"integer","title":"Student Id"},"package_id":{"type":"integer","title":"Package Id"}},"type":"object","required":["expiry_date","hours_remaining","student_id","package_id"],"title":"PackagePurchaseCreate"},"PackagePurchaseWithDetails":{"properties":{"expiry_date":{"type":"string","format":"date","title":"Expiry Date"},"hours_remaining":{"type":"integer","title":"Hours Remaining"},"is_active":{"type":"boolean","title":"Is Active","default":true},"id":{"type":"integer","title":"Id"},"student_id":{"type":"integer","title":"Student Id"},"package_id":{"type":"integer","title":"Package Id"},"purchase_date":{"type":"string","format":"date-time","title":"Purchase Date"},"hours_used":{"type":"integer","title":"Hours Used"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"package":{"$ref":"#/components/schemas/Package"},"links":{"anyOf":[{"items":{"$ref":"#/components/schemas/PackageResourceLink"},"type":"array"},{"type":"null"}],"title":"Links"}},"type":"object","required":["expiry_date","hours_remaining","id","student_id","package_id","purchase_date","hours_used","created_at","updated_at","package"],"title":"PackagePurchaseWithDetails"},"PackageResourceLink":{"properties":{"title":{"type":"string","title":"Title"},"url":{"type":"string","title":"Url"},"provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Provider"},"is_public":{"type":"boolean","title":"Is Public","default":true},"id":{"type":"integer","title":"Id"},"package_id":{"type":"integer","title":"Package Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["title","url","id","package_id","created_at","updated_at"],"title":"PackageResourceLink"},"PackageResourceLinkBase":{"properties":{"title":{"type":"string","title":"Title"},"url":{"type":"string","title":"Url"},"provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Provider"},"is_public":{"type":"boolean","title":"Is Public","default":true}},"type":"object","required":["title","url"],"title":"PackageResourceLinkBase"},"PackageUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"total_hours":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total Hours"},"price":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Price"},"subject":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subject"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"PackageUpdate"},"PasswordReset":{"properties":{"token":{"type":"string","title":"Token"},"new_password":{"type":"string","minLength":8,"title":"New Password"}},"type":"object","required":["token","new_password"],"title":"PasswordReset"},"PasswordResetRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"}},"type":"object","required":["email"],"title":"PasswordResetRequest"},"Payment":{"properties":{"amount_cents":{"type":"integer","title":"Amount Cents"},"currency":{"type":"string","title":"Currency","default":"EUR"},"status":{"type":"string","title":"Status"},"provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Provider"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"external_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"External Id"},"id":{"type":"integer","title":"Id"},"user_id":{"type":"integer","title":"User Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["amount_cents","status","id","user_id","created_at","updated_at"],"title":"Payment"},"PaymentMethodEnum":{"type":"string","enum":["bank_transfer","cash","check","card_offline","other"],"title":"PaymentMethodEnum"},"PaymentStatusEnum":{"type":"string","enum":["pending","partial","completed","overdue","cancelled"],"title":"PaymentStatusEnum"},"PaymentUpdate":{"properties":{"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},"type":"object","title":"PaymentUpdate"},"PricingCalculationRequest":{"properties":{"lesson_type":{"allOf":[{"$ref":"#/components/schemas/LessonType"}],"description":"Tipologia lezione"},"subject":{"type":"string","maxLength":50,"minLength":2,"title":"Subject","description":"Materia"},"duration_hours":{"type":"integer","maximum":24.0,"minimum":1.0,"title":"Duration Hours","description":"Durata ore"},"tutor_id":{"type":"integer","exclusiveMinimum":0.0,"title":"Tutor Id","description":"ID tutor"}},"type":"object","required":["lesson_type","subject","duration_hours","tutor_id"],"title":"PricingCalculationRequest","description":"Schema per richiesta calcolo pricing"},"PricingCalculationResponse":{"properties":{"lesson_type":{"type":"string","title":"Lesson Type"},"subject":{"type":"string","title":"Subject"},"duration_hours":{"type":"integer","title":"Duration Hours"},"tutor_id":{"type":"integer","title":"Tutor Id"},"applied_rule_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Applied Rule Id"},"applied_rule_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Applied Rule Name"},"applied_override_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Applied Override Id"},"base_price_per_hour":{"type":"number","title":"Base Price Per Hour","description":"Prezzo base orario ‚Ç¨"},"total_base_price":{"type":"number","title":"Total Base Price","description":"Prezzo totale base ‚Ç¨"},"volume_discount_rate":{"type":"number","title":"Volume Discount Rate","description":"Tasso sconto volume (0.1 = 10%)"},"discount_amount":{"type":"number","title":"Discount Amount","description":"Importo sconto ‚Ç¨"},"final_total_price":{"type":"number","title":"Final Total Price","description":"Prezzo finale totale ‚Ç¨"},"tutor_percentage":{"type":"number","title":"Tutor Percentage","description":"Percentuale tutor applicata"},"tutor_earnings":{"type":"number","title":"Tutor Earnings","description":"Guadagno tutor ‚Ç¨"},"platform_fee":{"type":"number","title":"Platform Fee","description":"Fee piattaforma ‚Ç¨"},"calculation_timestamp":{"type":"string","title":"Calculation Timestamp","description":"Timestamp calcolo ISO"},"has_override":{"type":"boolean","title":"Has Override","description":"Se applicato override tutor"},"has_volume_discount":{"type":"boolean","title":"Has Volume Discount","description":"Se applicato sconto volume"}},"type":"object","required":["lesson_type","subject","duration_hours","tutor_id","applied_rule_id","applied_rule_name","applied_override_id","base_price_per_hour","total_base_price","volume_discount_rate","discount_amount","final_total_price","tutor_percentage","tutor_earnings","platform_fee","calculation_timestamp","has_override","has_volume_discount"],"title":"PricingCalculationResponse","description":"Schema response calcolo pricing"},"PricingPreviewRequest":{"properties":{"lesson_type":{"$ref":"#/components/schemas/LessonType"},"subject":{"type":"string","maxLength":50,"minLength":2,"title":"Subject"},"duration_hours":{"type":"integer","maximum":24.0,"minimum":1.0,"title":"Duration Hours"},"tutor_id":{"type":"integer","exclusiveMinimum":0.0,"title":"Tutor Id"}},"type":"object","required":["lesson_type","subject","duration_hours","tutor_id"],"title":"PricingPreviewRequest","description":"Schema per anteprima pricing (senza log)"},"PricingRule":{"properties":{"name":{"type":"string","maxLength":100,"minLength":3,"title":"Name","description":"Nome univoco regola"},"lesson_type":{"allOf":[{"$ref":"#/components/schemas/LessonType"}],"description":"Tipologia lezione"},"subject":{"type":"string","maxLength":50,"minLength":2,"title":"Subject","description":"Materia"},"min_duration":{"type":"integer","maximum":24.0,"minimum":1.0,"title":"Min Duration","description":"Durata minima ore","default":1},"max_duration":{"anyOf":[{"type":"integer","maximum":24.0,"minimum":1.0},{"type":"null"}],"title":"Max Duration","description":"Durata massima ore"},"base_price_per_hour":{"type":"string","title":"Base Price Per Hour","description":"Prezzo base orario ‚Ç¨"},"tutor_percentage":{"type":"string","title":"Tutor Percentage","description":"Percentuale tutor (0.7 = 70%)","default":0.7},"volume_discounts":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Volume Discounts","description":"Sconti volume"},"is_active":{"type":"boolean","title":"Is Active","description":"Regola attiva","default":true},"priority":{"type":"integer","maximum":1000.0,"minimum":1.0,"title":"Priority","description":"Priorit√† (pi√π basso = pi√π priorit√†)","default":100},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description","description":"Descrizione"},"id":{"type":"integer","title":"Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["name","lesson_type","subject","base_price_per_hour","id","created_at","updated_at"],"title":"PricingRule","description":"Schema response regola pricing"},"PricingRuleCreate":{"properties":{"name":{"type":"string","maxLength":100,"minLength":3,"title":"Name","description":"Nome univoco regola"},"lesson_type":{"allOf":[{"$ref":"#/components/schemas/LessonType"}],"description":"Tipologia lezione"},"subject":{"type":"string","maxLength":50,"minLength":2,"title":"Subject","description":"Materia"},"min_duration":{"type":"integer","maximum":24.0,"minimum":1.0,"title":"Min Duration","description":"Durata minima ore","default":1},"max_duration":{"anyOf":[{"type":"integer","maximum":24.0,"minimum":1.0},{"type":"null"}],"title":"Max Duration","description":"Durata massima ore"},"base_price_per_hour":{"anyOf":[{"type":"number","maximum":500.0,"exclusiveMinimum":0.0},{"type":"string"}],"title":"Base Price Per Hour","description":"Prezzo base orario ‚Ç¨"},"tutor_percentage":{"anyOf":[{"type":"number","maximum":1.0,"exclusiveMinimum":0.0},{"type":"string"}],"title":"Tutor Percentage","description":"Percentuale tutor (0.7 = 70%)","default":0.7},"volume_discounts":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Volume Discounts","description":"Sconti volume"},"is_active":{"type":"boolean","title":"Is Active","description":"Regola attiva","default":true},"priority":{"type":"integer","maximum":1000.0,"minimum":1.0,"title":"Priority","description":"Priorit√† (pi√π basso = pi√π priorit√†)","default":100},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description","description":"Descrizione"}},"type":"object","required":["name","lesson_type","subject","base_price_per_hour"],"title":"PricingRuleCreate","description":"Schema per creazione regola pricing"},"PricingRuleListResponse":{"properties":{"total":{"type":"integer","title":"Total"},"items":{"items":{"$ref":"#/components/schemas/PricingRule"},"type":"array","title":"Items"}},"type":"object","required":["total","items"],"title":"PricingRuleListResponse","description":"Schema response lista regole pricing"},"PricingRuleUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":100,"minLength":3},{"type":"null"}],"title":"Name"},"lesson_type":{"anyOf":[{"$ref":"#/components/schemas/LessonType"},{"type":"null"}]},"subject":{"anyOf":[{"type":"string","maxLength":50,"minLength":2},{"type":"null"}],"title":"Subject"},"min_duration":{"anyOf":[{"type":"integer","maximum":24.0,"minimum":1.0},{"type":"null"}],"title":"Min Duration"},"max_duration":{"anyOf":[{"type":"integer","maximum":24.0,"minimum":1.0},{"type":"null"}],"title":"Max Duration"},"base_price_per_hour":{"anyOf":[{"anyOf":[{"type":"number"},{"type":"string"}],"gt":0},{"type":"null"}],"title":"Base Price Per Hour"},"tutor_percentage":{"anyOf":[{"anyOf":[{"type":"number"},{"type":"string"}],"gt":0},{"type":"null"}],"title":"Tutor Percentage"},"volume_discounts":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Volume Discounts"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"},"priority":{"anyOf":[{"type":"integer","maximum":1000.0,"minimum":1.0},{"type":"null"}],"title":"Priority"},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description"}},"type":"object","title":"PricingRuleUpdate","description":"Schema per aggiornamento regola pricing"},"Slot":{"properties":{"date":{"type":"string","format":"date","title":"Date"},"start_time":{"type":"string","format":"time","title":"Start Time"},"end_time":{"type":"string","format":"time","title":"End Time"},"is_available":{"type":"boolean","title":"Is Available","default":true},"id":{"type":"integer","title":"Id"},"tutor_id":{"type":"integer","title":"Tutor Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["date","start_time","end_time","id","tutor_id","created_at","updated_at"],"title":"Slot"},"SlotCreate":{"properties":{"date":{"type":"string","format":"date","title":"Date"},"start_time":{"type":"string","format":"time","title":"Start Time"},"end_time":{"type":"string","format":"time","title":"End Time"},"is_available":{"type":"boolean","title":"Is Available","default":true},"tutor_id":{"type":"integer","title":"Tutor Id"}},"type":"object","required":["date","start_time","end_time","tutor_id"],"title":"SlotCreate"},"SlotUpdate":{"properties":{"start_time":{"anyOf":[{"type":"string","format":"time"},{"type":"null"}],"title":"Start Time"},"end_time":{"anyOf":[{"type":"string","format":"time"},{"type":"null"}],"title":"End Time"},"is_available":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Available"}},"type":"object","title":"SlotUpdate"},"Student":{"properties":{"first_name":{"type":"string","title":"First Name"},"last_name":{"type":"string","title":"Last Name"},"date_of_birth":{"type":"string","format":"date","title":"Date Of Birth"},"institute":{"type":"string","title":"Institute"},"class_level":{"type":"string","title":"Class Level"},"phone_number":{"type":"string","title":"Phone Number"},"id":{"type":"integer","title":"Id"},"user_id":{"type":"integer","title":"User Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["first_name","last_name","date_of_birth","institute","class_level","phone_number","id","user_id","created_at","updated_at"],"title":"Student"},"StudentCreate":{"properties":{"first_name":{"type":"string","title":"First Name"},"last_name":{"type":"string","title":"Last Name"},"date_of_birth":{"type":"string","format":"date","title":"Date Of Birth"},"institute":{"type":"string","title":"Institute"},"class_level":{"type":"string","title":"Class Level"},"phone_number":{"type":"string","title":"Phone Number"},"user":{"$ref":"#/components/schemas/UserCreate"}},"type":"object","required":["first_name","last_name","date_of_birth","institute","class_level","phone_number","user"],"title":"StudentCreate"},"StudentUpdate":{"properties":{"first_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Name"},"last_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Name"},"institute":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Institute"},"class_level":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Class Level"},"phone_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone Number"}},"type":"object","title":"StudentUpdate"},"StudentWithUser":{"properties":{"first_name":{"type":"string","title":"First Name"},"last_name":{"type":"string","title":"Last Name"},"date_of_birth":{"type":"string","format":"date","title":"Date Of Birth"},"institute":{"type":"string","title":"Institute"},"class_level":{"type":"string","title":"Class Level"},"phone_number":{"type":"string","title":"Phone Number"},"id":{"type":"integer","title":"Id"},"user_id":{"type":"integer","title":"User Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"user":{"$ref":"#/components/schemas/User"}},"type":"object","required":["first_name","last_name","date_of_birth","institute","class_level","phone_number","id","user_id","created_at","updated_at","user"],"title":"StudentWithUser"},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"refresh_token":{"type":"string","title":"Refresh Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"}},"type":"object","required":["access_token","refresh_token"],"title":"Token"},"Tutor":{"properties":{"first_name":{"type":"string","title":"First Name"},"last_name":{"type":"string","title":"Last Name"},"bio":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bio"},"subjects":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subjects"},"is_available":{"type":"boolean","title":"Is Available","default":true},"id":{"type":"integer","title":"Id"},"user_id":{"type":"integer","title":"User Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["first_name","last_name","id","user_id","created_at","updated_at"],"title":"Tutor"},"TutorCreate":{"properties":{"first_name":{"type":"string","title":"First Name"},"last_name":{"type":"string","title":"Last Name"},"bio":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bio"},"subjects":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subjects"},"is_available":{"type":"boolean","title":"Is Available","default":true},"user":{"$ref":"#/components/schemas/UserCreate"}},"type":"object","required":["first_name","last_name","user"],"title":"TutorCreate"},"TutorPricingOverride":{"properties":{"tutor_id":{"type":"integer","exclusiveMinimum":0.0,"title":"Tutor Id","description":"ID tutor"},"pricing_rule_id":{"type":"integer","exclusiveMinimum":0.0,"title":"Pricing Rule Id","description":"ID regola pricing"},"custom_price_per_hour":{"anyOf":[{"type":"string","gt":0},{"type":"null"}],"title":"Custom Price Per Hour","description":"Prezzo custom orario ‚Ç¨"},"custom_tutor_percentage":{"anyOf":[{"type":"string","gt":0},{"type":"null"}],"title":"Custom Tutor Percentage","description":"Percentuale custom tutor"},"is_active":{"type":"boolean","title":"Is Active","description":"Override attivo","default":true},"valid_from":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Valid From","description":"Valido da"},"valid_until":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Valid Until","description":"Valido fino"},"notes":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Notes","description":"Note admin"},"id":{"type":"integer","title":"Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["tutor_id","pricing_rule_id","id","created_at","updated_at"],"title":"TutorPricingOverride","description":"Schema response override tutor"},"TutorPricingOverrideCreate":{"properties":{"tutor_id":{"type":"integer","exclusiveMinimum":0.0,"title":"Tutor Id","description":"ID tutor"},"pricing_rule_id":{"type":"integer","exclusiveMinimum":0.0,"title":"Pricing Rule Id","description":"ID regola pricing"},"custom_price_per_hour":{"anyOf":[{"anyOf":[{"type":"number"},{"type":"string"}],"gt":0},{"type":"null"}],"title":"Custom Price Per Hour","description":"Prezzo custom orario ‚Ç¨"},"custom_tutor_percentage":{"anyOf":[{"anyOf":[{"type":"number"},{"type":"string"}],"gt":0},{"type":"null"}],"title":"Custom Tutor Percentage","description":"Percentuale custom tutor"},"is_active":{"type":"boolean","title":"Is Active","description":"Override attivo","default":true},"valid_from":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Valid From","description":"Valido da"},"valid_until":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Valid Until","description":"Valido fino"},"notes":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Notes","description":"Note admin"}},"type":"object","required":["tutor_id","pricing_rule_id"],"title":"TutorPricingOverrideCreate","description":"Schema per creazione override tutor"},"TutorPricingOverrideListResponse":{"properties":{"total":{"type":"integer","title":"Total"},"items":{"items":{"$ref":"#/components/schemas/TutorPricingOverride"},"type":"array","title":"Items"}},"type":"object","required":["total","items"],"title":"TutorPricingOverrideListResponse","description":"Schema response lista override tutor"},"TutorSelfCreate":{"properties":{"first_name":{"type":"string","title":"First Name"},"last_name":{"type":"string","title":"Last Name"},"bio":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bio"},"subjects":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subjects"},"is_available":{"type":"boolean","title":"Is Available","default":true}},"type":"object","required":["first_name","last_name"],"title":"TutorSelfCreate","description":"Payload to create a tutor profile for the current authenticated user."},"TutorUpdate":{"properties":{"first_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Name"},"last_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Name"},"bio":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bio"},"subjects":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subjects"},"is_available":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Available"}},"type":"object","title":"TutorUpdate"},"TutorWithUser":{"properties":{"first_name":{"type":"string","title":"First Name"},"last_name":{"type":"string","title":"Last Name"},"bio":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bio"},"subjects":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subjects"},"is_available":{"type":"boolean","title":"Is Available","default":true},"id":{"type":"integer","title":"Id"},"user_id":{"type":"integer","title":"User Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"user":{"$ref":"#/components/schemas/User"}},"type":"object","required":["first_name","last_name","id","user_id","created_at","updated_at","user"],"title":"TutorWithUser"},"User":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"role":{"$ref":"#/components/schemas/UserRole"},"id":{"type":"integer","title":"Id"},"is_active":{"type":"boolean","title":"Is Active"},"is_verified":{"type":"boolean","title":"Is Verified"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["email","role","id","is_active","is_verified","created_at","updated_at"],"title":"User"},"UserCreate":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"role":{"$ref":"#/components/schemas/UserRole"},"password":{"type":"string","title":"Password"}},"type":"object","required":["email","role","password"],"title":"UserCreate"},"UserRole":{"type":"string","enum":["student","tutor","admin"],"title":"UserRole"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/api/auth/login"}}}}}}